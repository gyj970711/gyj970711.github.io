{"version":3,"sources":["webpack:///./src/views/box/Users.vue?953f","webpack:///src/views/box/Users.vue","webpack:///./src/views/box/Users.vue?62c4","webpack:///./src/views/box/Users.vue","webpack:///./src/views/box/Users.vue?d196"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","userFn","model","value","userParams","callback","$$v","$set","expression","slot","$event","dialogFormVisible","ref","ruleForm","rules","submitForm","staticStyle","tableData","scopedSlots","_u","key","fn","scope","changeState","row","id","mg_state","dialogFormVisible1","open","pagenum","pagesize","totalNum","handleSizeChange","handleCurrentChange","staticRenderFns","checkEmail","rule","em","Error","test","checkMobile","phone","query","username","password","email","mobile","required","message","trigger","min","max","validator","methods","data","res","users","total","size","console","log","page","uId","bool","meta","status","$message","msg","type","duration","formName","$refs","validate","valid","submitUserAdd","resetFields","$confirm","confirmButtonText","cancelButtonText","then","ajaxDelete","catch","submitUpdateUser","component"],"mappings":"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","file":"js/chunk-0893922e.3bcffb8c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/welcome' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content bg-purple-dark\"},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.userFn},model:{value:(_vm.userParams.query),callback:function ($$v) {_vm.$set(_vm.userParams, \"query\", $$v)},expression:\"userParams.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.userFn},slot:\"append\"})],1)],1)]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content bg-purple-dark\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加用户\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.ruleForm.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"mobile\", $$v)},expression:\"ruleForm.mobile\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"border\":\"\",\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\",\"width\":\"72\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"mg_state\",\"label\":\"状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#409EFF\",\"inactive-color\":\"#DCDFE6\"},on:{\"change\":function($event){return _vm.changeState(scope.row.id, scope.row.mg_state)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"mg_state\",\"label\":\"状态\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"enterable\":false,\"content\":\"编辑\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){_vm.dialogFormVisible1 = true}}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.dialogFormVisible1},on:{\"update:visible\":function($event){_vm.dialogFormVisible1=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.ruleForm.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"mobile\", $$v)},expression:\"ruleForm.mobile\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible1 = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-tooltip',{attrs:{\"enterable\":false,\"content\":\"删除\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.open(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"enterable\":false,\"content\":\"分配权限\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"icon\":\"el-icon-star-off\",\"circle\":\"\"}})],1)]}}])})],1),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.userParams.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.userParams.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalNum},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片 -->\r\n    <el-card class=\"box-card\">\r\n      <!-- 栅格布局 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <div class=\"grid-content bg-purple-dark\">\r\n            <!-- 搜索框 -->\r\n            <el-input\r\n              placeholder=\"请输入内容\"\r\n              class=\"input-with-select\"\r\n              v-model=\"userParams.query\"\r\n              @clear=\"userFn\"\r\n              clearable\r\n            >\r\n              <el-button\r\n                @click=\"userFn\"\r\n                slot=\"append\"\r\n                icon=\"el-icon-search\"\r\n              ></el-button>\r\n            </el-input>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <div class=\"grid-content bg-purple-dark\">\r\n            <el-button @click=\"dialogFormVisible = true\" type=\"primary\"\r\n              >添加用户</el-button\r\n            >\r\n          </div>\r\n        </el-col>\r\n        <!-- 添加用户弹框 -->\r\n        <el-dialog title=\"添加用户\" :visible.sync=\"dialogFormVisible\">\r\n          <!-- 添加用户表单 -->\r\n          <el-form\r\n            :model=\"ruleForm\"\r\n            :rules=\"rules\"\r\n            ref=\"ruleForm\"\r\n            label-width=\"100px\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item label=\"用户名称\" prop=\"username\">\r\n              <el-input v-model=\"ruleForm.username\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户密码\" prop=\"password\">\r\n              <el-input v-model=\"ruleForm.password\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n              <el-input v-model=\"ruleForm.email\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"电话\" prop=\"mobile\">\r\n              <el-input v-model=\"ruleForm.mobile\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n      </el-row>\r\n      <el-table\r\n        border\r\n        :data=\"tableData\"\r\n        stripe\r\n        style=\"width: 100%;margin-top:20px\"\r\n      >\r\n        <!-- 索引 -->\r\n        <el-table-column type=\"index\" label=\"#\" width=\"72\"> </el-table-column>\r\n        <!-- 姓名 -->\r\n        <el-table-column prop=\"username\" label=\"姓名\" width=\"180\">\r\n        </el-table-column>\r\n        <!-- 邮箱 -->\r\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"180\">\r\n        </el-table-column>\r\n        <!-- 电话 -->\r\n        <el-table-column prop=\"mobile\" label=\"电话\" width=\"180\">\r\n        </el-table-column>\r\n        <!-- 角色 -->\r\n        <el-table-column prop=\"role_name\" label=\"角色\" width=\"180\">\r\n        </el-table-column>\r\n        <!-- 状态 -->\r\n        <el-table-column prop=\"mg_state\" label=\"状态\" width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- {{ scope.row }} -->\r\n            <el-switch\r\n              @change=\"changeState(scope.row.id, scope.row.mg_state)\"\r\n              v-model=\"scope.row.mg_state\"\r\n              active-color=\"#409EFF\"\r\n              inactive-color=\"#DCDFE6\"\r\n            >\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 操作 -->\r\n        <el-table-column prop=\"mg_state\" label=\"状态\" width=\"160\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 编辑修改 -->\r\n            <el-tooltip :enterable=\"false\" content=\"编辑\" placement=\"top\">\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"primary\"\r\n                icon=\"el-icon-edit\"\r\n                circle\r\n                @click=\"dialogFormVisible1 = true\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n            <!-- 修改用户弹框 -->\r\n            <el-dialog title=\"添加用户\" :visible.sync=\"dialogFormVisible1\">\r\n              <!-- 修改用户表单 -->\r\n              <el-form\r\n                :model=\"ruleForm\"\r\n                :rules=\"rules\"\r\n                ref=\"ruleForm\"\r\n                label-width=\"100px\"\r\n                class=\"demo-ruleForm\"\r\n              >\r\n                <el-form-item label=\"用户名称\" prop=\"username\">\r\n                  <el-input v-model=\"ruleForm.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                  <el-input v-model=\"ruleForm.email\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电话\" prop=\"mobile\">\r\n                  <el-input v-model=\"ruleForm.mobile\"></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible1 = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n                  >确 定</el-button\r\n                >\r\n              </div>\r\n            </el-dialog>\r\n            <!-- 删除 -->\r\n            <el-tooltip :enterable=\"false\" content=\"删除\" placement=\"top\">\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                icon=\"el-icon-delete\"\r\n                circle\r\n                @click=\"open(scope.row.id)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n            <!-- 分配权限 -->\r\n            <el-tooltip :enterable=\"false\" content=\"分配权限\" placement=\"top\">\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n                icon=\"el-icon-star-off\"\r\n                circle\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"block\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"userParams.pagenum\"\r\n          :page-sizes=\"[1, 2, 5, 10]\"\r\n          :page-size=\"userParams.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"totalNum\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ajaxUserList,\r\n  ajaxChangeState,\r\n  ajaxAddUsers,\r\n  ajaxDeleteUsers,\r\n  ajaxUpdateUsers,\r\n} from \"../../utils/api\";\r\nexport default {\r\n  data() {\r\n    let checkEmail = (rule, value, callback) => {\r\n      let em = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)$/;\r\n      if (!value) {\r\n        return callback(new Error(\"Email 不能为空\"));\r\n      }\r\n      if (em.test(value)) {\r\n        callback();\r\n      } else {\r\n        callback(new Error(\"请输入正确的Email\"));\r\n      }\r\n    };\r\n    let checkMobile = (rule, value, callback) => {\r\n      let phone = /^1[3456789]\\d{9}$/;\r\n      if (!value) {\r\n        return callback(new Error(\"手机号不能为空\"));\r\n      }\r\n      if (phone.test(value)) {\r\n        callback();\r\n      } else {\r\n        callback(new Error(\"请输入正确的手机号\"));\r\n      }\r\n    };\r\n    return {\r\n      totalNum: 0,\r\n      userParams: {\r\n        query: \"\", //查询关键字\r\n        pagenum: 1, // 查询用户列表初始页数\r\n        pagesize: 5, // 每页几条\r\n      },\r\n      tableData: [],\r\n      dialogFormVisible: false, //添加用户弹框显示状态，默认为不显示\r\n      dialogFormVisible1: false,\r\n      // 绑定的数据\r\n      ruleForm: {\r\n        username: \"\",\r\n        password: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n      //规则\r\n      rules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 6, message: \"长度在 3 到 6 个字符\", trigger: \"blur\" },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          {\r\n            min: 6,\r\n            max: 18,\r\n            message: \"长度在 6 到  18个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入正确的email\", trigger: \"blur\" },\r\n          { validator: checkEmail, trigger: \"blur\" },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: \"请输入正确的手机号\", trigger: \"blur\" },\r\n          { validator: checkMobile, trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.userFn();\r\n  },\r\n  methods: {\r\n    //用户列表接口请求\r\n    async userFn() {\r\n      let { data: res } = await ajaxUserList(this.userParams);\r\n      // console.log(res);\r\n      this.tableData = res.data.users;\r\n      this.totalNum = res.data.total;\r\n    },\r\n    handleSizeChange(size) {\r\n      console.log(size);\r\n      this.userParams.pagesize = size;\r\n      this.userFn();\r\n    },\r\n    handleCurrentChange(page) {\r\n      console.log(page);\r\n      this.userParams.pagenum = page;\r\n      this.userFn();\r\n    },\r\n    //滑块改变时触发的回调\r\n    async changeState(uId, bool) {\r\n      //  console.log(uId,bool)\r\n      let { data: res } = await ajaxChangeState(uId, bool);\r\n      if (res.meta.status == 200) {\r\n        this.$message({\r\n          message: res.meta.msg,\r\n          type: \"success\",\r\n          duration: 1000,\r\n        });\r\n      }\r\n    },\r\n    // 添加用户方法\r\n    async submitUserAdd() {\r\n      let { data: res } = await ajaxAddUsers(this.ruleForm);\r\n      // console.log(res);\r\n      if (res.meta.status == 201) {\r\n        this.$message({\r\n          message: res.meta.msg,\r\n          type: \"success\",\r\n          duration: 1000,\r\n        });\r\n        this.dialogFormVisible = false; //隐藏\r\n        this.userFn(); // 更新页面\r\n      }\r\n    },\r\n    // 提交预校验\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.submitUserAdd();\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    // 删除用户方法\r\n    async ajaxDelete(id) {\r\n      let { data: res } = await ajaxDeleteUsers(id);\r\n      console.log(res);\r\n      if (res.meta.status == 200) {\r\n        this.$message({\r\n          message: res.meta.msg,\r\n          type: \"success\",\r\n          duration: 1000,\r\n        });\r\n        this.userFn(); // 更新页面\r\n      }\r\n    },\r\n    // 删除\r\n    open(id) {\r\n      this.$confirm(\"您确定删除吗?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.ajaxDelete(id);\r\n          this.userFn(); // 更新页面\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 修改用户方法\r\n    async submitUpdateUser(id) {\r\n      let { data: res } = await ajaxUpdateUsers(id);\r\n      console.log(res);\r\n      if (res.meta.status == 200) {\r\n        this.$message({\r\n          message: res.meta.msg,\r\n          type: \"success\",\r\n          duration: 1000,\r\n        });\r\n        this.dialogFormVisible1 = false; //隐藏\r\n        this.userFn(); // 更新页面\r\n      }\r\n    },\r\n    // 提交预校验\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.submitUpdateUser();\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  margin-top: 15px;\r\n}\r\n\r\n.el-pagination {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=1325cc7e&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=1325cc7e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1325cc7e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=1325cc7e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=1325cc7e&scoped=true&lang=css&\""],"sourceRoot":""}